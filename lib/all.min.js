(function(){var t,e,r,n,o,i,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1},p=function(t,e){function r(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=function(){function t(){this._ajax=s(this._ajax,this),this._upload=s(this._upload,this),this._post=s(this._post,this),this._delete=s(this._delete,this),this._get=s(this._get,this),this._getUrlPara=s(this._getUrlPara,this),this._serialize=s(this._serialize,this)}return t.prototype._getDoc=function(t){var e,r;try{t.contentWindow&&(e=t.contentWindow.document)}catch(n){r=n,this._log("cannot get iframe.contentWindow document: "+r)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){r=n,this._log("cannot get iframe.contentDocument: "+r),e=t.document}return e},t.prototype._hasProp={}.hasOwnProperty,t.prototype._extends=function(t,e){var r;e||(e={});for(r in e)a.call(e,r)&&(t[r]="object"==typeof e[r]?this._extends({},e[r]):e[r]);return t},t.prototype._defaultXHROptions=function(t,e){return{data:t,done:function(){return function(t){return e?e(t):void 0}}(this),fail:function(){return function(t){return e?e(t):void 0}}(this)}},t.prototype._serialize=function(t){var e,r,n;if(e="","object"==typeof t)for(r in t)a.call(t,r)&&(n=t[r],e+=""===e?"?"+r+"="+n:"&"+r+"="+n);return e},t.prototype._getUrlPara=function(t){var e,r,n,o,i,s;if(o=window.location.search,-1===o.indexOf("?"))return void 0;for(n=o.split("?")[1].split("&"),i=0,s=n.length;s>i;i++)return e=n[i],r=e.split("="),r[0]===t?r[1]:void 0},t.prototype._ajaxOpts={type:"GET",url:"",data:{},dataType:"json",charset:"UTF-8",enctype:"application/x-www-form-urlencoded"},t.prototype._get=function(t,e){return e.data.access_token&&!t.match(/^https/)&&(t=t.replace(/^http\:\/\//,"https://")),e.type="GET",e.url=t,e.data=e.data||{},e.data.format||(e.data.format="json"),this._ajax(e)},t.prototype._delete=function(t,e){return e.type="POST",e.url=t,e.data=e.data||{},e.data._method="delete",e.data.format||(e.data.format="json"),this._ajax(e)},t.prototype._post=function(t,e){return e.type="POST",e.url=t,e.data=e.data||{},e.data.format||(e.data.format="json"),this._ajax(e)},t.prototype._upload=function(t,e){return e.type="UPLOAD",e.url=t,e.data=e.data||{},e.data.format||(e.data.format="json"),this._ajax(e)},t.prototype._ajax=function(t){var e,r,n,o,i,s,c,p,u,h;switch(t=this._extends(this._ajaxOpts,t),r=1===(u=t.data.pretty_print)||"1"===u?"text":t.dataType,c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e=""+t.enctype+"; charset="+t.charset,t.type){case"GET":case"DELETE":t.url+=this._serialize(t.data),s="";break;case"POST":case"PUT":s=this._serialize(t.data).substr(1);break;case"UPLOAD":t.type="POST",s=new FormData,h=t.data;for(i in h)a.call(h,i)&&(p=h[i],s.append(i,p));e=null;break;default:s=""}return n=t.done||t.success||function(){},o=t.fail||t.error||function(){},c.open(t.type,t.url),e&&c.setRequestHeader("Content-Type",e),c.onload=function(){var t;if(c.status>=200&&c.status<400){if(t=c.responseText,"json"===r&&(t=JSON.parse(t)),"function"==typeof n)return n(t)}else if(t=c.responseText,"function"==typeof o)return o(t)},c.send(s),c},t}(),r=function(){function t(){}return t.prototype._procStop=!1,t.prototype._log=function(t){return console.log("Pixnet Log: ",t)},t.prototype._error=function(t,e){return console.error("Pixnet Error: ",t),this._procStop=!e},t}(),i=["included","extended"],o=function(){function t(){}return t.include=function(t){var e,r,n,o;if(!t)throw"include(obj) requires obj";o=t.prototype;for(r in o)n=o[r],c.call(i,r)<0&&(this.prototype[r]=n);return e=t.included,e&&e.apply(this),this},t}(),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.include(r),n.include(e),n}(o),n=function(t){function e(){return this.postAuthApiFunc=s(this.postAuthApiFunc,this),this.getAuthApiFunc=s(this.getAuthApiFunc,this),this.authApiFunc=s(this.authApiFunc,this),this.apiInvalidGrantFunc=s(this.apiInvalidGrantFunc,this),this.refreshToken=s(this.refreshToken,this),this.requestTokens=s(this.requestTokens,this),this.logout=s(this.logout,this),this.getAuthorizeUrl=s(this.getAuthorizeUrl,this),this.login=s(this.login,this),this.setCode=s(this.setCode,this),this.setTokens=s(this.setTokens,this),this.setKey=s(this.setKey,this),this.setSecret=s(this.setSecret,this),this.getData=s(this.getData,this),this.isLogin=s(this.isLogin,this),e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.data={app:{code:"",consumerKey:"",consumerSecret:"",callbackUrl:"",accessToken:"",refreshToken:"",isLogin:!1,loginOpts:{type:"onepage",popwin:void 0}}},e.prototype.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)?!0:!1},e.prototype.isLogin=function(){return this.data.app.isLogin},e.prototype.getData=function(t){return t?this.data.app[t]:this.data.app},e.prototype.setSecret=function(t){return this.data.app.consumerSecret=t,this},e.prototype.setKey=function(t){return this.data.app.consumerKey=t,this},e.prototype.setTokens=function(t,e){return this.data.app.accessToken=t,this.data.app.refreshToken=e,localStorage[""+this.data.app.consumerKey+"accessToken"]=t,localStorage[""+this.data.app.consumerKey+"refreshToken"]=e,this},e.prototype.setCode=function(t){return this.data.app.code=t,this},e.prototype.init=function(t){var e;return e=function(t){return!((null!=t?!t.match(/[a-z0-9]{32}/):!0)||32!==t.length)},t.consumerKey&&(this.data.app.consumerKey=t.consumerKey),t.consumerSecret&&(this.data.app.consumerSecret=t.consumerSecret),t.callbackUrl&&(this.data.app.callbackUrl=t.callbackUrl),e(this.data.app.consumerKey)||this._error("consumerKey format is wrong"),e(this.data.app.consumerSecret)||this._error("consumerSecret format is wrong"),this._procStop?void 0:(t.login===!0&&this.login(t.loginCallback,this.data.app.loginOpts),this)},e.prototype.login=function(t,e){var r,n,o;if(e=e||{},localStorage[""+this.data.app.consumerKey+"accessToken"])this.setCode(localStorage[""+this.data.app.consumerKey+"code"]),this.setTokens(localStorage[""+this.data.app.consumerKey+"accessToken"],localStorage[""+this.data.app.consumerKey+"refreshToken"]),this.data.app.isLogin=!0,t&&t.call(this,this.data.app);else{if(e=this._extends(this.data.app.loginOpts,e),r=e.callbackUrl||this.data.app.callbackUrl,n=this.data.app.consumerKey,r||this._error("callbackUrl is not defined"),n||this._error("consumerKey is not defined"),this._procStop)return;if(this._getUrlPara("code")&&"custom"!==e.type)this.setCode(this._getUrlPara("code")),e.onGetCode&&e.onGetCode.call(this,this.data.app),this.requestTokens(t,this.data.app);else switch(o=this.getAuthorizeUrl(r,n),e.type){case"custom":e.custom||this._error("You must set a custom function for getting code from oauth2"),e.custom.apply(this,arguments);break;case"popwin":this.data.app.loginOpts.popwin=window.open(o,"getCodeWindow");break;default:location.href=o}}return this},e.prototype.getAuthorizeUrl=function(t,e){return"https://emma.pixnet.cc/oauth2/authorize?redirect_uri="+t+"&client_id="+e+"&response_type=code"},e.prototype.logout=function(t){return this.setCode(""),this.setTokens("",""),this.data.app.isLogin=!1,t&&t(),this},e.prototype.requestTokens=function(t,e){return e=this._extends(this.data.app,e),e.consumerSecret||this._error("consumerSecret is not defined"),this._get("https://emma.pixnet.cc/oauth2/grant",{data:{redirect_uri:e.callbackUrl,client_id:e.consumerKey,client_secret:e.consumerSecret,code:e.code,grant_type:"authorization_code"},done:function(e){return function(r){return e.setTokens(r.access_token,r.refresh_token),e.data.app.isLogin=!0,t?t.call(e,r):void 0}}(this),fail:function(r){return function(n){var o;return o=e&&"string"==typeof n?JSON.parse(n):n,"invalid_grant"===o.error?r.refreshToken(t):t?t.call(r,o):void 0}}(this)})},e.prototype.refreshToken=function(t,e){var r;return r=this._extends(this.data.app,{}),r.refreshToken||this._error("refreshToken is not defined"),r.consumerKey||this._error("consumerKey is not defined"),r.consumerSecret||this._error("consumerSecret is not defined"),this._procStop?void 0:this._get("https://emma.pixnet.cc/oauth2/grant",{data:{refresh_token:r.refreshToken,client_id:r.consumerKey,client_secret:r.consumerSecret,grant_type:"refresh_token"},done:function(e){return function(r){return e.setTokens(r.access_token,r.refresh_token),e.data.app.isLogin=!0,t?t.call(e,r):void 0}}(this),fail:function(n){return function(o){var i;return i=r&&"string"==typeof o?JSON.parse(o):o,"invalid_grant"===i.error?(n.setCode(""),e=n._extends(r,{type:"custom",custom:function(){return location.href=n.getAuthorizeUrl(r.callbackUrl,r.consumerKey)}}),n.login(t,e)):t?t.call(n,i):void 0}}(this)})},e.prototype.apiInvalidGrantFunc=function(t,e,r){var n;return n=e&&"string"==typeof e?JSON.parse(e):e,"invalid_grant"===n.error?this.refreshToken(t):(r[0].call(this,n),this._error(n.message))},e.prototype.authApiFunc=function(t,e,r,n,o){var i,s,a,c,p;switch(t){case"get":i=this._get;break;case"post":i=this._post;break;default:return that}return s=o.callback,p=o.optionData||{},c=o.mainUri,pixnet.isLogin?(a={access_token:this.getData("accessToken")},a=this._extends(a,p),i.call(this,"https://emma.pixnet.cc/"+c,{data:a,done:function(){return function(t){return s?s(t):void 0}}(this),fail:function(){return function(t){return pixnet.apiInvalidGrantFunc(function(){return r.apply(e,n)},t,n)}}(this)}),e):(this._error("Need login"),e)},e.prototype.getAuthApiFunc=function(t,e,r,n){return this.authApiFunc("get",t,e,r,n)},e.prototype.postAuthApiFunc=function(t,e,r,n){return this.authApiFunc("post",t,e,r,n)},e}(t),window.pixnet=new n}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getAlbumMain=function(t,e){var n,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,e),n=arguments,pixnet._get("https://emma.pixnet.cc/album/main",{data:i,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.getAlbumMain.apply(t,n)},e,n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAlbumSetfolders=function(t,e,n){var i,r;return pixnet.isLogin?(r={user:e,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._get("https://emma.pixnet.cc/album/setfolders",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.getAlbumSets.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.sortSetFolders=function(t,e,n){var i,r;return pixnet.isLogin?(r={ids:e,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/setfolders/position",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.sortSetFolders.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAlbumSets=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/sets",pixnet._defaultXHROptions(i,t)),this},t.prototype.getAlbumSet=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/sets/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.getAlbumSetElements=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/sets/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.getAlbumSetComments=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/set_comments",pixnet._defaultXHROptions(i,t)),this},t.prototype.createAlbumSet=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={title:e,description:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/album/sets",{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createAlbumSet.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateAlbumSet=function(t,e,n,i,r){var o,a;return pixnet.isLogin?(a={title:n,description:i,access_token:pixnet.getData("accessToken")},a=pixnet._extends(a,r),o=arguments,pixnet._post("https://emma.pixnet.cc/album/sets/"+e,{data:a,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateAlbumSet.apply(t,o)},e,o)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteAlbumSet=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/sets/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteAlbumSet.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.sortAlbumSets=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={parent_id:e,ids:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/album/sets/position",{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.sortAlbumSets.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAlbumSetsNear=function(t,e,n,i,r){var o;return o={user:e,lat:n,lon:i},o=pixnet._extends(o,r),pixnet._get("http://emma.pixnet.cc/album/sets/nearby",pixnet._defaultXHROptions(o,t)),this},t.prototype.getAlbumFolders=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/folders",pixnet._defaultXHROptions(i,t)),this},t.prototype.getAlbumFolder=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/folders/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.getAlbumFolderSets=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/folders/"+e+"/sets",pixnet._defaultXHROptions(r,t)),this},t.prototype.createAlbumFolder=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={title:e,description:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/album/folders",{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createAlbumFolder.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateAlbumFolder=function(t,e,n,i,r){var o,a;return pixnet.isLogin?(a={title:n,description:i,access_token:pixnet.getData("accessToken")},a=pixnet._extends(a,r),o=arguments,pixnet._post("https://emma.pixnet.cc/album/folders/"+e,{data:a,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateAlbumFolder.apply(t,o)},e,o)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteAlbumFolder=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/folders/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteAlbumFolder.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAlbumElements=function(t,e,n,i){var r;return r={user:n,set_id:e},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/elements",pixnet._defaultXHROptions(r,t)),this},t.prototype.getElement=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={user:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._get("https://emma.pixnet.cc/album/elements/"+e,{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.getElement.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getElementComments=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/elements/"+e+"/comments",pixnet._defaultXHROptions(r,t)),this},t.prototype.createElement=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={set_id:e,upload_file:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,"base64"===o.upload_method&&(o.upload_file=n.replace("data:image/png;base64,","")),pixnet._upload("https://emma.pixnet.cc/album/elements",{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createElement.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateElement=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/elements/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateElement.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteElement=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/elements/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteElementt.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.sortElement=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={set_id:e,ids:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/album/elements/position",{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.sortElement.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getElementCommentsNear=function(t,e,n,i,r){var o;return o={user:e,lat:n,lon:i},o=pixnet._extends(o,r),pixnet._get("http://emma.pixnet.cc/album/elements/nearby",pixnet._defaultXHROptions(o,t)),this},t.prototype.getSetComments=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/set_comments",pixnet._defaultXHROptions(i,t)),this},t.prototype.getSetComment=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/set_comments/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.createSetComment=function(t,e,n,i,r){var o,a;return pixnet.isLogin?(a={set_id:e,user:n,body:i,access_token:pixnet.getData("accessToken")},a=pixnet._extends(a,r),o=arguments,pixnet._post("https://emma.pixnet.cc/album/set_comments",{data:a,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createSetComments.apply(t,o)},e,o)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markSetCommentSpam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/set_comments/"+e+"/mark_spam",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markCommentSpam.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markSetCommentHam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/set_comments/"+e+"/mark_ham",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markCommentSpam.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteSetComment=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/set_comments/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteSetComment.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getComments=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/comments",pixnet._defaultXHROptions(i,t)),this},t.prototype.getComment=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/comments/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.createElementComment=function(t,e,n,i,r){var o,a;return pixnet.isLogin?(a={element_id:e,user:n,body:i,access_token:pixnet.getData("accessToken")},a=pixnet._extends(a,r),o=arguments,pixnet._post("https://emma.pixnet.cc/album/comments",{data:a,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createElementComments.apply(t,o)},e,o)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markElementCommentSpam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/comments/"+e+"/mark_spam",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markElementCommentSpam.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markElementCommentHam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/comments/"+e+"/mark_ham",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markElementCommentSpam.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteElementComment=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/comments/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteElementComment.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.createFace=function(t,e,n,i,r,o,a,u){var p,s;return pixnet.isLogin?(s={user:e,element_id:n,x:i,y:r,w:o,h:a,access_token:pixnet.getData("accessToken")},s=pixnet._extends(s,u),p=arguments,pixnet._post("https://emma.pixnet.cc/album/faces",{data:s,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createFace.apply(t,p)},e,p)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateFace=function(t,e,n,i,r,o,a,u,p){var s,c;return pixnet.isLogin?(c={user:n,element_id:i,x:r,y:o,w:a,h:u,access_token:pixnet.getData("accessToken")},c=pixnet._extends(c,p),s=arguments,pixnet._post("https://emma.pixnet.cc/album/faces/"+e,{data:c,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateFace.apply(t,s)},e,s)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteFace=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/faces/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteFace.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getConfig=function(t,e){var n,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,e),n=arguments,pixnet._get("https://emma.pixnet.cc/album/config",{data:i,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.getConfig.apply(t,n)},e,n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getSiteCategories=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("http://emma.pixnet.cc/album/site_categories",pixnet._defaultXHROptions(n,t)),this},t}(),pixnet.album=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getBlock=function(t,n){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,n),e=arguments,pixnet._get("https://emma.pixnet.cc/blocks",{data:i,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.getBlock.apply(t,e)},n,e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.createBlock=function(t,n,e){var i,r;return pixnet.isLogin?(r={user:n,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/blocks/create",{data:r,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.createBlock.apply(t,i)},n,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteBlock=function(t,n,e){var i,r;return pixnet.isLogin?(r={user:n,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/blocks/delete",{data:r,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.deleteBlock.apply(t,i)},n,i)}}(this)}),this):(pixnet._error("Need login"),this)},t}(),pixnet.block=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getInfo=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog",pixnet._defaultXHROptions(i,t)),this},t.prototype.updateInfo=function(t,e){var n,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,e),n=arguments,pixnet._post("https://emma.pixnet.cc/blog",{data:i,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateInfo.apply(t,n)},e,n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getCategories=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/categories",pixnet._defaultXHROptions(i,t)),this},t.prototype.createCategories=function(t,e,n){var i,r;return pixnet.isLogin?(r={name:e,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/categories",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createBlogCategories.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateCategories=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={name:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/blog/categories/"+e,{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateCategories.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteCategories=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/blog/categories/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteBlogCategories.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.sortCategoriesTo=function(t,e,n){var i,r;return pixnet.isLogin?("string"!=typeof e&&(e=e.toString()),r={ids:e,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/categories/position",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.sortCategoriesTo.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAllArticles=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/articles",pixnet._defaultXHROptions(i,t)),this},t.prototype.getArticle=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/articles/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.getRelatedArticle=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/articles/"+e+"/related",pixnet._defaultXHROptions(r,t)),this},t.prototype.createArticle=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={title:e,body:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/blog/articles",{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createArticle.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateArticle=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/articles/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateArticle.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteArticle=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/blog/articles/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteArticle.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getLatestArticle=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/articles/latest",pixnet._defaultXHROptions(i,t)),this},t.prototype.getHotArticle=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/articles/hot",pixnet._defaultXHROptions(i,t)),this},t.prototype.searchArticle=function(t,e,n,i){var r;return r={key:e,user:n},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/articles/search",pixnet._defaultXHROptions(r,t)),this},t.prototype.getComments=function(t,e,n,i){var r;return r={user:n,article_id:e},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/comments",pixnet._defaultXHROptions(r,t)),this},t.prototype.createComment=function(t,e,n,i,r){var o,p;return pixnet.isLogin?(p={article_id:e,body:n,user:i,access_token:pixnet.getData("accessToken")},p=pixnet._extends(p,r),o=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments",{data:p,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createComment.apply(t,o)},e,o)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getSingleComment=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/comments/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.replyComment=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={body:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/reply",{data:o,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.replyComment.apply(t,r)},e,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.setCommentOpen=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/open",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.setCommentOpen.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.setCommentClose=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/close",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.setCommentClose.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markCommentSpam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/mark_spam",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markCommentSpam.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markCommentHam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/mark_ham",{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markCommentSpam.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteComment=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/blog/comments/"+e,{data:r,done:function(){return function(e){return t?t(e):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteComment.apply(t,i)},e,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getLatestComment=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/comments/latest",pixnet._defaultXHROptions(i,t)),this},t.prototype.getSiteCategories=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/blog/site_categories",pixnet._defaultXHROptions(n,t)),this},t.prototype.getSuggestedTags=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/suggested_tags",pixnet._defaultXHROptions(i,t)),this},t}(),pixnet.blog=new t}).call(this);
(function(){var n;n=function(){function n(){}return n.prototype.getGroups=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friend/groups",{data:i,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getGroups.apply(n,e)},t,e)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.createGroup=function(n,t,e){var i,r;return pixnet.isLogin?(r={name:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friend/groups",{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.createGroup.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.updateGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={name:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friend/groups/"+t,{data:o,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.updateGroup.apply(n,r)},t,r)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.deleteGroup=function(n,t,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/friend/groups/"+t,{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.deleteGroup.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.getNews=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friend/news",{data:i,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getNews.apply(n,e)},t,e)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.getSubscriptions=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friend/subscriptions",{data:i,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getSubscriptions.apply(n,e)},t,e)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.createSubscription=function(n,t,e){var i,r;return pixnet.isLogin?(r={user:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscriptions",{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.createSubscription.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.joinSubscriptionGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(pixnet.isArray(e)&&(e=e.toString()),o={group_ids:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscriptions/"+t+"/join_subscription_group",{data:o,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.joinSubscriptionGroup.apply(n,r)},t,r)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.leaveSubscriptionGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={group_ids:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscriptions/"+t+"/leave_subscription_group",{data:o,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.leaveSubscriptionGroup.apply(n,r)},t,r)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.deleteSubscription=function(n,t,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/friend/subscriptions/"+t,{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.leaveSubscriptionGroup.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.getSubscriptionGroup=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friend/subscription_groups",{data:i,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getSubscriptionGroup.apply(n,e)},t,e)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.createSubscriptionGroup=function(n,t,e){var i,r;return pixnet.isLogin?(r={name:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscription_groups",{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.createSubscriptionGroup.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.updateSubscriptionGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={name:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscription_groups/"+t,{data:o,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.updateSubscriptionGroup.apply(n,r)},t,r)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.deleteSubscriptionGroup=function(n,t,e){var i,r;return pixnet.isLogin?(r={name:name,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/friend/subscription_groups/"+t,{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.deleteSubscriptionGroup.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.sortSubscriptionGroupTo=function(n,t,e){var i,r;return pixnet.isLogin?(r={ids:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscription_groups/position",{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.sortSubscriptionGroupTo.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.getFriendships=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friendships",{data:i,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getFriendships.apply(n,e)},t,e)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.createFriendship=function(n,t,e){var i,r;return pixnet.isLogin?(r={user_name:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friendships",{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.createFriendship.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.deleteFriendship=function(n,t,e){var i,r;return pixnet.isLogin?(r={user_name:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/friendships/delete",{data:r,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.deleteFriendship.apply(n,i)},t,i)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.appendFriendshipGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={user_name:t,group_id:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friendships/append_group",{data:o,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.appendFriendshipGroup.apply(n,r)},t,r)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.removeFriendshipGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={user_name:t,group_id:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friendships/remove_group",{data:o,done:function(){return function(t){return n?n(t):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.removeFriendshipGroup.apply(n,r)},t,r)}}(this)}),this):(pixnet._error("Need login"),this)},n}(),pixnet.friend=new n}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getAll=function(t,n,e){var i;return i={user:n},i=pixnet._extends(i,e),pixnet._get("https://emma.pixnet.cc/guestbook",pixnet._defaultXHROptions(i,t)),this},t.prototype.create=function(t,n,e,i,r){var o,s;return pixnet.isLogin?(s={title:n,body:e,user:i,access_token:pixnet.getData("accessToken")},s=pixnet._extends(s,r),o=arguments,pixnet._post("https://emma.pixnet.cc/guestbook",{data:s,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.createGuestbook.apply(t,o)},n,o)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getOne=function(t,n,e,i){var r;return r={user:e},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/guestbook/"+n,pixnet._defaultXHROptions(r,t)),this},t.prototype.reply=function(t,n,e,i){var r,o;return pixnet.isLogin?(o={reply:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/reply",{data:o,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.replyGuestbook.apply(t,r)},n,r)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.setOpen=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/open",{data:r,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setOpen.apply(t,i)},n,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.setClose=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/close",{data:r,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setClose.apply(t,i)},n,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markSpam=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/mark_spam",{data:r,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setClose.apply(t,i)},n,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markHam=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/mark_ham",{data:r,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setClose.apply(t,i)},n,i)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype["delete"]=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/guestbook/"+n,{data:r,done:function(){return function(n){return t?t(n):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setClose.apply(t,i)},n,i)}}(this)}),this):(pixnet._error("Need login"),this)},t}(),pixnet.guestbook=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.rate=function(t,e){var n;return n={},pixnet.isLogin&&(n={access_token:pixnet.getData("accessToken")}),n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/index/rate",pixnet._defaultXHROptions(n,t)),this},t.prototype.now=function(t,e){var n;return n={},pixnet.isLogin&&(n={access_token:pixnet.getData("accessToken")}),n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/index/now",pixnet._defaultXHROptions(n,t)),this},t}(),pixnet.index=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getBlogColumns=function(t,e){var n,i;return n=(null!=e?e.categoryId:void 0)?"/"+e.categoryId:"",i={},i=pixnet._extends(i,e),pixnet._get("https://emma.pixnet.cc/mainpage/blog/columns"+n,pixnet._defaultXHROptions(i,t)),this},t.prototype.getBlogColumnsCategories=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/mainpage/blog/columns/categories",pixnet._defaultXHROptions(n,t)),this},t.prototype.getAlbumColumns=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/mainpage/album/columns",pixnet._defaultXHROptions(n,t)),this},t.prototype.getArticlesByCategory=function(t,e,n,i){var p;return p={},p=pixnet._extends(p,i),pixnet._get("https://emma.pixnet.cc/mainpage/blog/categories/"+e+"/"+n,pixnet._defaultXHROptions(p,t)),this},t.prototype.getAlbumsByCategory=function(t,e,n,i){var p;return p={},p=pixnet._extends(p,i),pixnet._get("https://emma.pixnet.cc/mainpage/album/categories/"+e+"/"+n,pixnet._defaultXHROptions(p,t)),this},t.prototype.getVideos=function(t,e,n,i){var p;return p={},p=pixnet._extends(p,i),pixnet._get("https://emma.pixnet.cc/mainpage/album/video/"+e,pixnet._defaultXHROptions(p,t)),this},t.prototype.getAlbumBestSelected=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/mainpage/album/best_selected",pixnet._defaultXHROptions(n,t)),this},t}(),pixnet.mainpage=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getAccount=function(t,i){var n;return n={callback:t,optionData:i,mainUri:"account"},pixnet.getAuthApiFunc(this,this.getAccount,arguments,n),this},t.prototype.updateAccount=function(t,i,n){var a,e;return null==i&&(i=""),a={password:i},a=pixnet._extends(a,n),e={callback:t,optionData:a,mainUri:"account/info"},pixnet.postAuthApiFunc(this,this.updateAccount,arguments,e),this},t.prototype.updatePassword=function(t,i,n,a){var e,o;return i&&n?(e={password:i,new_password:n},e=pixnet._extends(e,a),o={callback:t,optionData:e,mainUri:"account/password"},pixnet.postAuthApiFunc(this,this.updatePassword,arguments,o),this):(pixnet._error("need password arguments"),this)},t.prototype.getUser=function(t,i,n){var a;return a={},a=pixnet._extends(a,n),pixnet._get("https://emma.pixnet.cc/users/"+i,pixnet._defaultXHROptions(a,t)),this},t.prototype.getAnalyticsData=function(t,i){var n;return n={callback:t,optionData:i,mainUri:"account/analytics"},pixnet.getAuthApiFunc(this,this.getAnalyticsData,arguments,n),this},t.prototype.getNotifications=function(t,i){var n;return n={callback:t,optionData:i,mainUri:"account/notifications"},pixnet.getAuthApiFunc(this,this.getNotifications,arguments,n),this},t.prototype.createMIBAccount=function(t,i,n){var a,e,o,r,s;return i&&i.id_number&&i.email&&i.cellphone&&i.mail_address&&i.domicile&&void 0!==i.enable_video_ad&&i.name&&i.id_image_front&&i.id_image_back?(i=pixnet._extends(i,n),"base64"===i.upload_method&&(r=i.id_image_front.length,e=i.id_image_back.length,o=i.id_image_front.indexOf(";base64,"),a=i.id_image_back.indexOf(";base64,"),o>0&&(i.id_image_front=i.id_image_front.substring(o+8,r)),a>0&&(i.id_image_back=i.id_image_back.substring(a+8,e))),s={callback:t,optionData:i,mainUri:"account/mib"},pixnet.postAuthApiFunc(this,this.createMIBAccount,arguments,s),this):pixnet._error("Do not give needed data")},t.prototype.getMIBAccount=function(t,i){var n;return n={callback:t,optionData:i,mainUri:"account/mib"},pixnet.getAuthApiFunc(this,this.getMIBAccount,arguments,n),this},t.prototype.getMIBPositionData=function(t,i,n){var a;return void 0===i?pixnet._error("Do not give position id"):(a={callback:t,optionData:n,mainUri:"account/mib/positions/"+i},pixnet.getAuthApiFunc(this,this.getMIBPositionData,arguments,a),this)},t.prototype.updateMIBPositionData=function(t,i,n,a,e){var o,r;return void 0===i||void 0===n&&void 0===a?pixnet._error("Do not give need params"):(o={},(0===n||1===n)&&(o.fixedadbox=n),(0===a||1===a)&&(o.enabled=a),o=pixnet._extends(o,e),r={callback:t,optionData:o,mainUri:"account/mib/positions/"+i},pixnet.postAuthApiFunc(this,this.updateMIBPositionData,arguments,r),this)},t.prototype.getMIBPay=function(t,i){var n;return n={callback:t,optionData:i,mainUri:"account/mibpay"},pixnet.getAuthApiFunc(this,this.getMIBPay,arguments,n),this},t}(),pixnet.users=new t}).call(this);